package main;import java.util.*;public class Ts{int[]b=new int[16];int v,i,j,q,s,u;public static void main(String[]a){new Ts().k();}void k(){b[m()]=2;while(v==0){u=0;for(int i:b)if(i==0)q=1;if(q==1)for(;;){s=m();if(b[s]==0){b[s]=2;break;}}for(i=0;i<4;i++){System.out.println("\n––––––––––––––––––––");for(q=0;q<4;q++)System.out.printf("%4d|",b[i*4+q]);}for(i=0;i<4;i++){if("wasd".indexOf((u=u==0?new Scanner(System.in).next().charAt(0):u))==i){v();v();v();for(q=0;q<12;q++){if(b[q]==b[q+4]){b[q]*=2;b[q+4]=0;}}v();}r();}v=1;for(q=0;q<4;q++){for(i=0;i<16;i++)if(b[i]==0||i%4!=0&&b[i]==b[i-1])v=0;r();}if(v==0)for(i=0;i<16;i++)if(b[i]==2048)v=2;}System.out.println("You "+(v==1?"won":"lost"));}void v(){for(j=0;j<12;j++){if(b[j]==0){b[j]=b[j+4];b[j+4]=0;}}}void r(){int[]z=b.clone();for(s=0;s<4;s++)for(j=0;j<4;j++)z[s*4+j]=b[(3-j)*4+s];b=z;}int m(){return new Random().nextInt(16);}}