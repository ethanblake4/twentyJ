package main;import java.util.*;import static java.lang.System.*;public class Ts{static int[]b=new int[]{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};static int l=16;static Object[]o=new Object[]{new Random(),0,' '};public static void main(String[] a){b[((Random)o[0]).nextInt(l)]=2;while((int)o[1]==0){o[2]=' ';int d=0;for(int i:b)if(i==0)d=1;if(d==1)while(true){int x=((Random)o[0]).nextInt(l);if(b[x]==0){b[x]=2;break;}}for(int i=0;i<4;i++){out.println("\n---------------");for(int q=0;q<4;q++)out.print(b[i*4+q]+" | ");}switch((char)(o[2]=o[2].equals(' ')?new Scanner(in).nextLine().charAt(0):o[2])){case'w':m();break;case'd':r();r();r();m();r();break;case's':r();r();m();r();r();break;case'a':r();m();r();r();r();break;}o[1]=1;for(int n=0;n<4;n++){for(int i=0;i<l;i++)if(b[i]==0||i%4!=0&&b[i]==b[i-1])o[1]=0;r();}if((int)o[1]==0)for(int i=0;i<l;i++)if(i==2048)o[1]=2;}if((int)o[1]==1)out.println("You Lost");else out.println("You won");}static void m(){for(int i=0;i<4;i++)v();for(int j=0;j<l-4;j++){if(b[j]==b[j+4]){b[j]+=b[j+4];b[j+4]=0;}} v();}static void v(){for(int j=0;j<l-4;j++){if(b[j]==0){b[j]=b[j+4];b[j+4]=0;}}}static void r(){int[]z=b.clone();for(int i=0;i<4;i++)for(int j=0;j<4;j++)z[i*4+j]=b[(4-j-1)*4+i];b=z;}}